<view class="container">
  <!-- å¯¼èˆªæ  -->
  <view class="nav-bar">
    <view class="nav-back" bindtap="goBack">
      <text class="back-icon">â€¹</text>
    </view>
    <view class="nav-title">{{pageTitle}}</view>
    <view class="nav-placeholder"></view>
  </view>

  <!-- ç”¨æˆ·åˆ—è¡¨ -->
  <view class="user-list">
    <block wx:for="{{userList}}" wx:key="uid">
      <view class="user-item" bindtap="goToUserSpace" data-uid="{{item.uid}}">
        <view class="user-avatar">
          <image wx:if="{{item.avatar_url}}" class="avatar-img" src="{{item.avatar_url}}" mode="aspectFill" />
          <view wx:else class="avatar-placeholder">ğŸ™‚</view>
        </view>
        
        <view class="user-info">
          <view class="user-name-row">
            <text class="user-name">{{item.nickname || 'ç”¨æˆ·'}}</text>
            <view wx:if="{{item.auth}}" class="auth-badge">è®¤è¯</view>
            <view wx:if="{{item.vip}}" class="vip-badge">å¤§ä¼šå‘˜</view>
          </view>
          <view class="user-desc">{{item.description || 'è¿™ä¸ªäººå¾ˆç¥ç§˜ï¼Œä»€ä¹ˆéƒ½æ²¡æœ‰å†™'}}</view>
          <view class="user-stats">
            <text class="stat-item">ç²‰ä¸ {{formatNum(item.fansCount || 0)}}</text>
            <text class="stat-item">è·èµ {{formatNum(item.loveCount || 0)}}</text>
          </view>
        </view>
        
        <view wx:if="{{!isOwn && item.uid !== currentUserId}}" class="follow-btn {{item.isFollowing ? 'followed' : ''}}" 
              bindtap="toggleFollow" data-uid="{{item.uid}}" data-index="{{index}}" catchtap="true">
          <text class="follow-text">{{item.isFollowing ? 'å·²å…³æ³¨' : 'å…³æ³¨'}}</text>
        </view>
      </view>
    </block>
  </view>

  <!-- åŠ è½½æ›´å¤š -->
  <view wx:if="{{userList.length > 0 && hasMore}}" class="load-more" bindtap="loadMore">
    <text class="load-text">{{loadingMore ? 'åŠ è½½ä¸­...' : 'åŠ è½½æ›´å¤š'}}</text>
  </view>
  
  <!-- æ²¡æœ‰æ›´å¤šæ•°æ® -->
  <view wx:if="{{userList.length > 0 && !hasMore}}" class="no-more">
    <text class="no-more-text">æ²¡æœ‰æ›´å¤šäº†</text>
  </view>

  <!-- ç©ºçŠ¶æ€ -->
  <view wx:if="{{userList.length === 0 && !loading}}" class="empty-state">
    <text class="empty-text">{{emptyText}}</text>
  </view>

  <!-- åŠ è½½çŠ¶æ€ -->
  <view wx:if="{{loading}}" class="loading-state">
    <text class="loading-text">åŠ è½½ä¸­...</text>
  </view>
</view>