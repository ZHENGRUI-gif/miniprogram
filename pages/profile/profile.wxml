<view class="container">
  <view class="card header">
    <image wx:if="{{userAvatar}}" class="avatar" src="{{userAvatar}}" mode="aspectFill" />
    <view wx:else class="avatar placeholder">
      <text class="placeholder-icon">ğŸ‘¤</text>
    </view>
    <view class="info">
      <view class="name">{{user.nickname || 'æœªç™»å½•'}}</view>
      <view class="desc text-ellipsis">{{user.description || 'ç™»å½•åäº«å—æ›´å¤šåŠŸèƒ½'}}</view>
    </view>
    <!-- åˆ‡æ¢è´¦å·æŒ‰é’® -->
    <view wx:if="{{hasLogin}}" class="switch-account-btn" bindtap="showSwitchAccount">
      <text class="switch-icon">ğŸ”„</text>
      <text class="switch-text">åˆ‡æ¢è´¦å·</text>
    </view>
  </view>
  
  <!-- æœªç™»å½•çŠ¶æ€å¢å¼ºæ˜¾ç¤º -->
  <view wx:if="{{!hasLogin}}" class="unlogged-section">
    <view class="unlogged-card">
      <view class="unlogged-icon">ğŸ”</view>
      <view class="unlogged-title">æ¬¢è¿ä½¿ç”¨</view>
      <view class="unlogged-desc">ç™»å½•åå¯ä»¥äº«å—æ›´å¤šä¸ªæ€§åŒ–åŠŸèƒ½</view>
      <view class="unlogged-features">
        <view class="feature-item">
          <text class="feature-icon">ğŸ“±</text>
          <text class="feature-text">ä¸ªæ€§åŒ–æ¨è</text>
        </view>
        <view class="feature-item">
          <text class="feature-icon">ğŸ’¾</text>
          <text class="feature-text">æ”¶è—å†å²</text>
        </view>
        <view class="feature-item">
          <text class="feature-icon">âš™ï¸</text>
          <text class="feature-text">ä¸ªäººè®¾ç½®</text>
        </view>
      </view>
      <view class="btn-primary unlogged-btn" bindtap="goLogin">
        <text class="btn-text">ç«‹å³ç™»å½•</text>
      </view>
    </view>
  </view>

  <!-- åˆ‡æ¢è´¦å·å¼¹çª— -->
  <view class="switch-account-modal" wx:if="{{showSwitchModal}}" bindtap="hideSwitchAccount">
    <view class="modal-content" catchtap="true">
      <view class="modal-header">
        <text class="modal-title">åˆ‡æ¢è´¦å·</text>
        <text class="modal-close" bindtap="hideSwitchAccount">Ã—</text>
      </view>
      
      <view class="account-list">
        <!-- å½“å‰è´¦å· -->
        <view class="current-account" wx:if="{{currentUser}}">
          <image class="account-avatar" src="{{currentUser.avatar || currentUser.avatar_url || currentUser.head_image}}" mode="aspectFill" />
          <view class="account-info">
            <text class="account-name">{{currentUser.nickname || currentUser.name}}</text>
            <text class="account-desc">å½“å‰è´¦å·</text>
          </view>
          <view class="current-badge">å½“å‰</view>
        </view>
        
        <!-- å…¶ä»–è´¦å· -->
        <view class="other-accounts">
          <view class="account-item" wx:for="{{otherAccounts}}" wx:key="uid" bindtap="switchToAccount" data-account="{{item}}">
            <image class="account-avatar" src="{{item.avatar || item.avatar_url || item.head_image}}" mode="aspectFill" />
            <view class="account-info">
              <text class="account-name">{{item.nickname || item.name}}</text>
              <text class="account-desc">{{item.email || item.phone || 'ç”¨æˆ·'}}</text>
            </view>
            <view class="switch-btn">åˆ‡æ¢</view>
          </view>
        </view>
        
        <!-- æ·»åŠ æ–°è´¦å· -->
        <view class="add-account" bindtap="addNewAccount">
          <text class="add-icon">+</text>
          <text class="add-text">æ·»åŠ æ–°è´¦å·</text>
        </view>
      </view>
    </view>
  </view>
</view>

