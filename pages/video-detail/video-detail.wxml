<view class="container">
  <!-- æ”¶è—å¤¹ä¿¡æ¯å¤´éƒ¨ -->
  <view class="favorite-header">
    <view class="favorite-info">
      <view class="favorite-title">{{favoriteInfo.title || 'æ”¶è—å¤¹'}}</view>
      <view class="favorite-desc">{{favoriteInfo.description || 'æš‚æ— æè¿°'}}</view>
      <view class="favorite-meta">
        <text class="video-count">{{videos.length}}ä¸ªè§†é¢‘</text>
        <text class="visibility">{{favoriteInfo.visible === 1 ? 'å…¬å¼€' : 'ç§å¯†'}}</text>
        <text class="create-time">{{formatUploadTime(favoriteInfo.create_time)}}</text>
      </view>
    </view>
  </view>

  <!-- è§†é¢‘åˆ—è¡¨ -->
  <view class="video-list">
    <view wx:if="{{videos.length > 0}}">
      <block wx:for="{{videos}}" wx:key="vid">
        <view class="video-item" bindtap="goToVideo" data-vid="{{item.video.vid}}">
          <view class="video-thumbnail">
            <image class="thumbnail" src="{{item.video.cover_url || item.video.coverUrl}}" mode="aspectFill" />
            <view class="duration">{{formatDuration(item.video.duration)}}</view>
          </view>
          <view class="video-info">
            <view class="video-title">{{item.video.title}}</view>
            <view class="video-meta">
              <text class="author">{{item.user.nickname || 'æœªçŸ¥ç”¨æˆ·'}}</text>
              <text class="upload-time">{{formatUploadTime(item.video.uploadDate)}}</text>
            </view>
            <view class="video-stats">
              <view class="stat">
                <text class="stat-icon">â–¶</text>
                <text class="stat-text">{{formatNum(item.stats.play || item.video.play_count || item.video.playCount || 0)}}</text>
              </view>
              <view class="stat">
                <text class="stat-icon">ğŸ’¬</text>
                <text class="stat-text">{{formatNum(item.stats.danmu || item.video.danmu_count || item.video.danmuCount || 0)}}</text>
              </view>
              <view class="stat">
                <text class="stat-icon">ğŸ‘</text>
                <text class="stat-text">{{formatNum(item.stats.good || item.video.like_count || item.video.likeCount || 0)}}</text>
              </view>
            </view>
          </view>
        </view>
      </block>
    </view>
    
    <!-- ç©ºçŠ¶æ€ -->
    <view wx:else class="empty-state">
      <view class="empty-icon">ğŸ“</view>
      <text class="empty-text">æ”¶è—å¤¹æš‚æ— è§†é¢‘</text>
    </view>
  </view>

  <!-- åŠ è½½æ›´å¤š -->
  <view wx:if="{{videos.length > 0 && hasMore}}" class="load-more" bindtap="loadMoreVideos">
    <text class="load-text">{{loadingMore ? 'åŠ è½½ä¸­...' : 'åŠ è½½æ›´å¤š'}}</text>
  </view>
  
  <!-- æ²¡æœ‰æ›´å¤šæ•°æ® -->
  <view wx:if="{{videos.length > 0 && !hasMore}}" class="no-more">
    <text class="no-more-text">æ²¡æœ‰æ›´å¤šè§†é¢‘äº†</text>
  </view>

  <!-- åŠ è½½çŠ¶æ€ -->
  <view wx:if="{{loading}}" class="loading">
    <text class="loading-text">åŠ è½½ä¸­...</text>
  </view>
</view>
